<html>
<head>
  <title>第二章 访问命令行</title>
  <basefont face="Consolas" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308816 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Consolas;
      font-size: 11pt;
    }
  </style>
</head>
<body>
<a name="2608"/>

<div>
<span><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(0, 0, 255); font-weight: bold;">第二章 访问命令行</span></font></div><div><br/></div><div><span style="font-size: 11pt; font-weight: bold;">目标：</span></div><div><ul><li><div><span style="font-size: 11pt;">登录Linux系统并使用shell运行简单命令。</span></div></li></ul><div><br/></div></div><div><span style="font-size: 11pt; font-weight: bold;">章节：</span></div><div><ul><li><div><span style="font-size: 11pt;">访问命令行</span></div></li><li><div><span style="font-size: 11pt;">使用桌面访问命令行</span></div></li><li><div><span style="font-size: 11pt;">使用Bash Shell执行命令</span></div></li></ul><div><br/></div></div><div><br/></div><div><span style="font-size: 11pt; font-weight: bold;">第一节：访问命令行</span></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">目标：</span></span></div><div><ul><li><div>完成本节后，学生应该能登录Linux系统并使用shell运行简单命令。</div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">Bash Shell简介：</span></div><div><ul><li><div><span style="font-size: 11pt;">command line（命令行）基于文本界面，用于向计算机输入指令。</span></div></li><li><div><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">Linux命令行由shell程序提供，红帽使用GNU Bourne-Again Shell（bash）。</span></span></div></li><li><div><span style="font-size: 11pt;">Bash是Bourne Shell（sh）的改进版本。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">* 其他shell程序：ksh（AIX）、zsh、csh</span></span></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">     * /etc/shells中定义系统默认支持的shell程序类型</span></span></div><ul><li><div><span style="font-size: 11pt;">bash在提示符后等待用户输入命令，普通用户提示符是</span> <span style="font-size: 11pt; font-weight: bold;">$</span><span style="font-size: 11pt;">，超级用户root的提示符是</span> <span style="font-size: 11pt; font-weight: bold;">#</span><span style="font-size: 11pt;">。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image.png" type="image/png" data-filename="Image.png" width="227"/></span></div><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image [1].png" type="image/png" data-filename="Image.png" width="228"/></span></div><ul><li><div><span style="font-size: 11pt;">bash shell带有脚本语言，支持自动化任务，且可以完成图形化难以完成的高效任务。</span></div></li><li><div>bash与Windows中的cmd.exe和PowerShell类似，macOS默认使用bash。</div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">Shell基础知识：</span></div><div><ul><li><div><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">shell命令的三个组成部分：命令（command）+ 选项（options）+ 参数（arguments）</span></span></div></li><li><div>命令是程序名，其后可以跟随选项，选项跟一个或两个破折号（如，-a或--all）。</div></li><li><div>选项或命令后可以跟随参数，通常指向目标参数。</div></li><li><div>$ usermod -L user01：锁定user01用户的密码</div></li></ul></div><div><br/></div><div><span style="font-weight: bold;">登录到本地计算机：</span></div><div><ul><li><div><span style="font-size: 11pt;">计算机的硬件键盘和显示器用于输入和输出，称为物理控制台（</span><span style="font-size: 11pt; font-weight: bold;">physical console</span><span style="font-size: 11pt;">）。</span></div></li><li><div><span style="font-size: 11pt;">物理控制台带有多个虚拟控制台（</span><span style="font-size: 11pt; font-weight: bold;">virtual console</span><span style="font-size: 11pt;">），可以运行单独的终端（terminal）。</span></div></li><li><div><span style="font-size: 11pt;">需要在终端中登录计算机才能运行shell。</span></div></li><li><div><span style="font-size: 11pt;">终端基于文本界面，用于输入命令及显示输出。</span></div></li><li><div><span style="font-size: 11pt;">Ctrl+Alt+F1~F6可以进行虚拟控制台的切换（tty1~tty6）。</span></div></li><li><div><span style="font-size: 11pt;">在RHEL 8中，如有图形化环境，将在tty1（第一个虚拟控制台）中运行。</span></div></li><li><div><span style="font-size: 11pt;">tty2~tty6中为文本登录提示符。</span></div></li></ul><div><br/></div><ul><li><div><span style="font-size: 11pt;">数据中心可能会有许多无外设服务器（</span><span style="font-size: 11pt; font-weight: bold;">headless server</span><span style="font-size: 11pt;">）机架，而不为每一服务器配备键盘和</span></div></li></ul><div><span style="font-size: 11pt;">     显示器，</span><span style="font-size: 11pt;">这样可节省空间和费用。</span></div><ul><li><div><span style="font-size: 11pt;">一般情况下，使用网络访问无外设服务器。</span></div></li><li><div><span style="font-size: 11pt;">如果服务器自身的网卡配置有误且无法通过本身的网络连接登录，则通常会使用串行控制台</span></div></li></ul><div><span style="font-size: 11pt;">    （</span><span style="font-size: 11pt; font-weight: bold;">serial console</span><span style="font-size: 11pt;">）</span><span style="font-size: 11pt;">来修复服务器。</span></div></div><div><span style="font-size: 14.6667px;">   <span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">* 可通过RJ45转</span><span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">RS232串口</span><span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">连接无外设服务器：</span></span><span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">以下两种接法均是（第二种方式早期使用）</span></div><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/RJ45-RS232 Serial Console.jpg" type="image/jpeg" data-filename="RJ45-RS232 Serial Console.jpg" width="192"/> <img src="chapter2_files/Serial Port.jpg" type="image/jpeg" data-filename="Serial Port.jpg" width="300"/></span></div><div><br/></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">通过网络登录：</span></span></div><div><ul><li><div><span style="font-size: 11pt;">Linux管理员通常需通过网络连接到远程系统来获得shell访问权限。</span></div></li><li><div><span style="font-size: 11pt;">对于虚拟机或云上的实例，通常没有物理控制台和串行控制台。</span></div></li><li><div><span style="font-size: 11pt;">在Linux中，获取远程系统上shell提示符的最常用方法是使用Secure Shell（SSH）。</span></div></li><li><div><span style="font-size: 11pt;">大多数Linux及macOS使用OpenSSH软件提供ssh功能。</span></div></li><li><div><span style="font-size: 11pt;">ssh命令通过加密连接来防止通信被窃听或篡改。</span></div></li></ul><div>     <img src="chapter2_files/Image [2].png" type="image/png" data-filename="Image.png" width="550"/></div></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">一些系统为了增强安全性，不允许使用密码进行登录，而需要使用公钥身份验证登录，</span></div></li></ul><div><span style="font-size: 11pt;">     当公钥与私钥匹配，则不需要输入密码就</span><span style="font-size: 11pt;">能登录（后续章节将详细介绍）。</span></div></div><div><span style="font-size: 11pt;">     <img src="chapter2_files/Image [3].png" type="image/png" data-filename="Image.png" width="552"/></span></div><div><ul><li><div><span style="font-size: 11pt;">上图中mylab.pem为host主机user用户的</span><span style="font-size: 11pt; color: rgb(0, 0, 255); font-weight: bold;">私钥</span><span style="font-size: 11pt;">，需要以600权限防止普通用户读取</span><span style="font-size: 11pt;">，且</span></div></li></ul><div><span style="font-size: 11pt;">     remotehost主机的remoteuser用户</span><span style="font-size: 11pt;">需要提前认可并拥有host主机user用户的公钥。</span></div></div><div><br/></div><div>     <font style="color: rgb(0, 0, 255);"><b>* </b><b>注意：</b></font></div><div><span style="font-size: 11pt;">     1. 第一次登录新计算机时，系统会从ssh向您发出警告，表示它无法确定主机的真实性：</span><span style="font-size: 11pt;"> </span></div><div>        <img src="chapter2_files/Image [4].png" type="image/png" data-filename="Image.png" width="540"/></div><div><br/></div><div><span style="font-size: 11pt;">     2.</span> <span style="font-size: 11pt; font-weight: bold;">每次通过ssh登录远程主机时，远程主机会向ssh发送其主机公钥（host key）来进行</span></div><div><span style="font-size: 11pt; font-weight: bold;">        身份验</span><span style="font-size: 11pt; font-weight: bold;">证，</span><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">以帮助设置加密通信。</span> </span></div><div><span style="font-size: 11pt;">     3. <span style="font-size: 11pt; font-weight: bold;">ssh命令将该公钥与保存的主机公钥列表进行对比，以确</span></span><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">保它没有更改。</span></span></div><div><span style="font-size: 11pt;">     4. 如果主机公钥已更改，则可能表示有人在尝试伪装成该主机以劫持连</span><span style="font-size: 11pt;">接，这也称为<span style="font-size: 11pt; font-weight: bold;">中间人攻击</span></span></div><div><span style="font-size: 11pt;">        （</span><span style="font-size: 11pt; font-weight: bold;">man-in-the-middle attack</span><span style="font-size: 11pt;">）。</span></div><div><span style="font-size: 11pt;">     5. 在SSH中，主机公钥可以防止中间人攻击，这些主机公钥</span><span style="font-size: 11pt;">对于各服务器具有唯一性，而且</span></div><div><span style="font-size: 11pt;">        需要定期或每当怀疑遭泄露时进行更改。</span></div><div><span style="font-size: 11pt;"> </span></div><div><span style="font-size: 11pt;">     6. 如果本地计算机没有为远程主机保存主机公钥，将会收到如上警告。</span></div><div><span style="font-size: 11pt;">     7. 如果输入</span><span style="font-size: 11pt;">yes，远程主机发送的主机公钥会被接受，并且保存下来供日后参考。</span></div><div><span style="font-size: 11pt;">     8. 登录将继续，</span><span style="font-size: 11pt;">连接此主机时应该不会再看到此消息。</span></div><div><span style="font-size: 11pt;">     9. 如果输入no ，主机公钥将被拒绝，连接将</span><span style="font-size: 11pt;">关闭。</span></div><div><br/></div><div><span style="font-size: 11pt;">     10. 如果本地计算机确实保存了主机公钥，并且与远程主机实际发送的主机公钥不匹配，则会</span></div><div><span style="font-size: 11pt;">         自动关闭连接并显示警告。</span></div><div><br/></div><div><span style="font-weight: bold;">注销：</span></div><div><ul><li><div>使用完shell并想退出时，可以输入exit命令或<span style="font-weight: bold;">Ctrl+D命令</span>退出。</div></li></ul><div>     <img src="chapter2_files/Image [5].png" type="image/png" data-filename="Image.png" width="540"/></div><div>     </div></div><div>     <span style="color: rgb(250, 122, 0); font-weight: bold;">练习 P19：ACCESSING THE COMMAND LINE</span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">第二节：使用桌面访问命令行</span></div><div><span style="font-weight: bold;">目标：</span></div><div><ul><li><div>完成本节后，学生应该能使用GNOME 3桌面环境登录Linux系统，从终端程序shell提示符中运行命令。</div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">GNOME桌面环境简介：</span></div><div><ul><li><div><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">RHEL 8使用GNOME 3提供图形化的桌面环境，基于Wayland（默认）或传统X Windows System图形框架。</span></span></div></li><li><div><span style="font-size: 11pt;">GNOME Shell为GNOME桌面环境提供核心用户界面功能。</span></div></li><li><div><span style="font-size: 11pt;">RHEL 8使用Standard主题，RHEL 7使用Classic主题，各个主题在登录时的</span><span style="font-size: 11pt;">“Sign In”</span><span style="font-size: 11pt;">按钮旁的齿轮</span></div></li></ul><div><span style="font-size: 11pt;">     图标中选择。</span></div></div><div><span style="font-size: 11pt;">     <img src="chapter2_files/Image [6].png" type="image/png" data-filename="Image.png" width="442"/></span></div><div><br/></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">GNOME Shell组成部分：</span></span></div><div><ul><li><div><span style="font-size: 14.6667px;">GNOME Shell的组成元素包含以下部分：</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image [7].png" type="image/png" data-filename="Image.png" width="537"/></span></div></div><div><span style="font-size: 14.6667px;">     1. Top bar：顶栏，带有Activities按钮及音量、联网、日历和输入</span>法选择控件。</div><div><span style="font-size: 11pt;">     2. Activities overview：活动概览，点击Activities按钮或Super键（又名Windows或Command键），</span></div><div><span style="font-size: 11pt;">        包含Dash、Windows overview、Workspace selector三个区域。</span></div><div><span style="font-size: 11pt;">     3. Dash：仪表板，是可配置的图标列表，包含用户收藏的应用、当前正在运行的应用，还可用于选择</span></div><div><span style="font-size: 11pt;">        任意应用。</span></div><div><span style="font-size: 11pt;">     4. Windows overview：窗口概览，用于显示当前工作区中所有活</span><span style="font-size: 11pt;">动窗口的缩略图。</span></div><div><span style="font-size: 11pt;">     5. Workspace selector：工作区选择器，显示并切换所有活动工作区。</span></div><div><span style="font-size: 11pt;">     6. Message tray：消息托盘，查看应用或系统组件向GNOME发送的通知。</span></div><div><br/></div><div><span style="font-weight: bold;">启动终端：</span></div><div><ul><li><div>GNOME桌面环境中启动GNOME Shell的两种方式：</div></li></ul><div>     1. Activities -&gt; Dash -&gt; Terminal</div></div><div>     2. Alt+F2，在Enter a Command窗口中输入gnome-terminal。</div><div><ul><li><div><span style="font-size: 11pt;">shell提示符和terminal标题栏将显示：用户名、主机名和工作目录。</span></div></li></ul><div><br/></div></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">锁定屏幕或注销：</span></span></div><div><ul><li><div><span style="font-size: 11pt;">Top bar最右端的系统菜单可以执行锁定屏幕或注销</span></div></li><li><div><span style="font-size: 11pt;">Super+L（Windows+L）锁定屏幕更加快捷</span></div></li><li><div><span style="font-size: 11pt;">图形会话闲置几分钟后，屏幕也会锁定。</span></div></li><li><div><span style="font-size: 11pt;">Enter键或空格键或直接输入密码以解锁</span></div></li></ul><div><br/></div></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">关机或重启系统：</span></span></div><div><ul><li><div><span style="font-size: 11pt;">Top bar最右端的系统菜单中电源按钮关机</span></div></li><li><div><span style="font-size: 11pt;">Ctrl+Alt+Del选择Power Off或Restart</span></div></li><li><div><span style="font-size: 11pt;">关机命令：poweroff、init 0</span></div></li><li><div><span style="font-size: 11pt;">重启系统：reboot、init 6</span></div></li></ul><div><br/></div><div><span style="font-size: 11pt;">   </span><span style="font-size: 11pt; color: rgb(0, 0, 255); font-weight: bold;">* GNOME帮助文档查看：</span></div></div><div><span style="font-size: 11pt;">      $ yelp</span></div><div><span style="font-size: 14.6667px;">      $ gnome-help</span></div><div><br/></div><div><span style="font-size: 11pt; font-weight: bold;">     </span><span style="font-size: 11pt; color: rgb(250, 122, 0); font-weight: bold;">练习 P27：ACCESSING THE COMMAND LINE USING </span><span style="font-size: 11pt; color: rgb(250, 122, 0); font-weight: bold;">THE DESKTOP</span><span style="font-size: 11pt;">     </span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">第三节：使用Bash Shell执行命令</span></div><div><span style="font-weight: bold;">目标：</span></div><div><ul><li><div>完成本节后，学生应该能使用Bash快捷键节省运行命令的时间。</div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">基本命令语法：</span></div><div><ul><li><div><span style="font-size: 11pt;">bash解读用户的指令，指令包含命令、选项（通常以 - 或 -- 开头）与参数三部分，</span></div></li></ul><div><span style="font-size: 11pt;">     中间以空格分隔。</span></div></div><div><ul><li><div><span style="font-size: 11pt;">Enter键执行，屏幕上显示指令输出，并显示下一个shell提示符。</span></div></li></ul></div><div>     <img src="chapter2_files/Image [8].png" type="image/png" data-filename="Image.png" width="541"/></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">在一行中可以输入多个指令，中间以分号（;）分隔。</span></div></li></ul><div><span style="font-size: 14.6667px;">     注意：分号（semicolon）在bash中是元字符（metacharacters）中的一种。</span></div></div><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image [9].png" type="image/png" data-filename="Image.png" width="540"/></span></div><div><br/></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">简单命令示例：</span></span></div><div><ul><li><div><span style="font-size: 14.6667px;">$ date：显示或设置Linux系统时间，+表示参数设置格式。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image [10].png" type="image/png" data-filename="Image.png" width="539"/></span></div></div><div><br/></div><div><span style="font-size: 14.6667px;">     $ date -s &quot;2019-12-18 08:16:30&quot;：更改Linux系统日期与时间</span></div><div><span style="font-size: 14.6667px;">     $ date -u：查看</span><span style="font-size: 14.6667px;">Linux系统</span><span style="font-size: 14.6667px;">UTC时间</span></div><div><span style="font-size: 14.6667px;">       <img src="chapter2_files/Image [11].png" type="image/png" data-filename="Image.png" width="225"/> </span></div><div><span style="font-size: 14.6667px;">     $ hwclock：查看计算机主板BIOS时间（硬件时间），该时间存储于主板的可读写RAM芯片（CMOS）中。</span></div><div><span style="font-size: 14.6667px;">     $ hwclock -w：将Linux系统时间同步至BIOS时间</span></div><div><span style="font-size: 14.6667px;">     $ hwclock -s：将BIOS时间同步至<span style="font-size: 14.6667px;">Linux系统时间</span></span></div><div><br/></div><div><span style="font-size: 14.6667px;">   <span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">* 注意：</span></span></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">     </span><span style="font-size: 14.6667px;">1. CMOS存储BIOS的所有设置信息，因此BIOS设置有时也称为CMOS设置。</span></span></div><div><span style="font-size: 14.6667px;">     2. 这里说的是系统时间，由Linux操作系统维护。</span></div><div><span style="font-size: 11pt;">     3. 在系统启动时，Linux操作系统将时间从CMOS中读到系统时间变量中，以后修改时间通过修改系统时间实现。</span></div><div><span style="font-size: 11pt;">     4. 为了保持系统时间与CMOS时间的一致性，Linux每隔一段时间会将系统时间写入CMOS。</span></div><div><span style="font-size: 11pt;">     5. 由于该同步是每隔一段时间（大约是11分钟）进行的，在执行date -s命令后，如果马上重起机器，</span></div><div><span style="font-size: 11pt;">        修改时间</span><span style="font-size: 11pt;">就有可能没有被写入CMOS。</span></div><div><span style="font-size: 11pt;">     6. 如果要确保修改生效可以执行命令：hwclock -w</span><span style="font-size: 14.6667px;">    </span></div><div><br/></div><div><ul><li><div>$ passwd：更改用户密码</div></li></ul><div>     <img src="chapter2_files/Image [12].png" type="image/png" data-filename="Image.png" width="539"/></div></div><div>     1. 用户可更改自身的密码，但原始密码必须指定。</div><div>     2. 默认情况下，passwd命令要求强密码。</div><div>     3. 强密码由大写字母、小写字母、字符与数字组成，并且密码不为Linux字典（<span style="font-weight: bold;">/usr/share/dict/linux.words</span>）</div><div>        中的单词。 </div><div><br/></div><div><ul><li><div>$ file：扫描文件开头内容，显示文件类型。</div></li></ul><div>     <img src="chapter2_files/Image [13].png" type="image/png" data-filename="Image.png" width="540"/></div></div><div><br/></div><div><span style="font-weight: bold;">查看文件内容：</span></div><div><ul><li><div>$ cat：查看一个或多个文件内容，还可将文件重定向到新文件。</div></li></ul><div>     <img src="chapter2_files/Image [14].png" type="image/png" data-filename="Image.png" width="543"/></div></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">$ less：一次显示一页内容，可向前或向后滚动查看。</span></div></li><li><div><span style="font-size: 11pt;">$ head与tail：默认显示文件首或尾10行，可使用-n选项指定显示的行数。</span></div></li></ul><div>     <img src="chapter2_files/Image [15].png" type="image/png" data-filename="Image.png" width="539"/></div></div><div><ul><li><div>$ wc：计算文件中的行数、单词数与字符数，可分别使用-l、-w与-c选项。</div></li></ul><div>     <img src="chapter2_files/Image [16].png" type="image/png" data-filename="Image.png" width="541"/></div></div><div><br/></div><div><span style="font-weight: bold;">TAB补全：</span></div><div><ul><li><div><span style="font-size: 11pt;">Tab可以快速补齐命令或文件名</span></div></li><li><div><span style="font-size: 11pt;">如果键入的字符不唯一，按Tab键两次可显示以键入的字符为开头的所有命令。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image [17].png" type="image/png" data-filename="Image.png" width="541"/></span></div></div><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image [18].png" type="image/png" data-filename="Image.png" width="541"/></span></div><div><br/></div><div><ul><li><div>使用Tab键补全命令选项</div></li></ul></div><div>     <img src="chapter2_files/Image [19].png" type="image/png" data-filename="Image.png" width="541"/></div><div><br/></div><div><span style="font-weight: bold;">在另一行上继续长命令：</span></div><div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">如果命令太长，为提高可读性，可将命令分多行显示。</span></font></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">可以使用反斜杠字符（backslash，\）将Enter换行符转义（而不是命令结束），</span><span style="font-size: 11pt; font-weight: bold;">shell将显示</span></font></div></li></ul><div><span style="font-size: 11pt; font-weight: bold;">     延续</span><span style="font-size: 11pt; font-weight: bold;">提示符（&gt;）来确认请求。</span></div></div><div><span style="font-size: 11pt;">     <img src="chapter2_files/Image [20].png" type="image/png" data-filename="Image.png" width="539"/></span></div><div><br/></div><div><span style="font-weight: bold;">命令历史记录：</span></div><div><ul><li><div><span style="font-size: 11pt;">history：显示之前执行命令的列表，带有编号。</span></div></li><li><div><span style="font-size: 11pt;">!</span><span style="font-size: 11pt; font-style: italic;">string</span><span style="font-size: 11pt;">：执行最近的一个字符串开头命令</span></div></li><li><div><span style="font-size: 11pt;">!</span><span style="font-size: 11pt; font-style: italic;">number</span><span style="font-size: 11pt;">：执行指定编号的命令</span></div></li><li><div><span style="font-size: 11pt;">!!：执行上一条命令</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">键盘中上下箭头也可以在历史命令中浏览</span></font></div></li><li><div><span style="font-size: 11pt; font-weight: bold;">Alt + .</span><span style="font-size: 11pt;">：可以在当前命令中插入上一条命令的最后一个单词</span></div></li></ul><div><span style="font-size: 14.6667px;"> </span></div><div><span style="font-size: 14.6667px;"> <span style="font-size: 14.6667px; color: rgb(0, 0, 255); font-weight: bold;">* 注意：</span></span></div><div><span style="font-size: 14.6667px;">   1. bash中默认命令历史可达1000个，由/etc/profile中的HISTSIZE环境变量指定。</span></div><div><span style="font-size: 14.6667px;">   2. <span style="font-size: 14.6667px; font-weight: bold;">用户的命令历史保存在家目录中的~/.bash_history文件中。</span></span></div><div><span style="font-size: 14.6667px;">   3. 该文件记录的是上一次登录以前所执行过的命令，而本次登录的命令暂时存储在内存中，</span></div><div><span style="font-size: 14.6667px;">      登出注销成功后将写入该文件中。</span></div><div><span style="font-size: 14.6667px;">      <img src="chapter2_files/Image [21].png" type="image/png" data-filename="Image.png" width="280"/> </span></div><div><span style="font-size: 14.6667px;">   4. history命令相关的环境变量：</span></div><div><span style="font-size: 14.6667px;">      <img src="chapter2_files/Image [22].png" type="image/png" data-filename="Image.png" width="400"/></span></div><div><br/></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">编辑命令行：</span></span></div><div><ul><li><div><span style="font-size: 14.6667px;">bash的其他快捷方式：</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter2_files/Image [23].png" type="image/png" data-filename="Image.png" width="577"/></span></div></div><div><br/></div></div><div>     <span style="color: rgb(250, 122, 0); font-weight: bold;">练习 P35：EXECUTING COMMANDS USING THE BASH SHELL</span></div><div><span style="color: rgb(250, 122, 0); font-weight: bold;">     Lab P39：ACCESSING THE COMMAND LINE</span></div><div><br/></div><div><br/></div></span>
</div></body></html> 