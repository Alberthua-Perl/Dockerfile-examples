<html>
<head>
  <title>第三章 从命令行管理文件</title>
  <basefont face="Consolas" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308816 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Consolas;
      font-size: 11pt;
    }
  </style>
</head>
<body>
<a name="2674"/>

<div>
<span><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(0, 0, 255); font-weight: bold;">第三章 从命令行管理文件</span></font></div><div><br/></div><div><span style="font-weight: bold;">目标：</span></div><div><ul><li><div>在Bash shell中拷贝、移动、创建、删除和组织文件。</div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">章节：</span></div><div><ul><li><div><span style="font-size: 11pt;">描述Linux文件系统的层次结构概念</span></div></li><li><div><span style="font-size: 11pt;">通过名称指定文件</span></div></li><li><div><span style="font-size: 11pt;">使用命令行工具管理文件</span></div></li><li><div><span style="font-size: 11pt;">制作文件间的链接</span></div></li><li><div><span style="font-size: 11pt;">使用Shell扩展匹配文件名</span></div></li></ul><div><br/></div></div><div><br/></div><div><span style="font-weight: bold;">第一节：描述Linux文件系统的层次结构概念</span></div><div><span style="font-weight: bold;">目标：</span></div><div><ul><li><div><span style="font-size: 11pt;">完成本节后，学生应该能描述Linux如何组织文件，以及文件系统结构中各目录的用途。</span></div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">文件系统层次结构：</span></div><div><ul><li><div><span style="font-size: 11pt;">Linux系统中的所有文件存储在文件系统中，它们被组织到一个颠倒的目录树中，称为</span></div></li></ul><div><span style="font-size: 11pt;">     文件系统层次结构（file-system </span><span style="font-size: 11pt;">hierarchy）。</span></div></div><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image.png" type="image/png" data-filename="Image.png" width="536"/></span></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">/ 目录是根目录，位于文件系统层次结构的顶部。</span></div></li><li><div><span style="font-size: 11pt;">/ 字符还用做目录分隔符</span></div></li></ul><div><br/></div><div><span style="font-size: 11pt;">   </span><span style="font-size: 11pt; color: rgb(0, 0, 255); font-weight: bold;">* 注意：</span></div></div><div><span style="font-size: 11pt;">     1. Linux文件系统层次结构符合FHS（文件系统层次结构标准，Filesystem Hierarchy Standard）</span></div><div><span style="font-size: 11pt;">        参考地址：</span><a href="http://www.pathname.com/fhs/" style="font-size: 11pt;">http://www.pathname.com/fhs/</a></div><div><span style="font-size: 11pt; font-weight: bold;">     </span><span style="font-size: 11pt;">2. </span><span style="font-size: 11pt; font-weight: bold;">$ man 7 hier</span><span style="font-size: 11pt;">：查看文件系统层次结构man帮助手册</span></div><div><br/></div><div><ul><li><div><span style="font-size: 14.6667px;">RHEL的重要目录：</span></div></li></ul><div><span style="font-size: 11pt;">     1. /usr：</span><span style="font-size: 11pt;">安装的软件、共享的库，</span><span style="font-size: 14.6667px;">重要的子目录包括：</span></div></div><div><span style="font-size: 11pt;">        a. /usr/bin：用户命令</span></div><div><span style="font-size: 11pt;">        b. /usr/sbin：系统管理命令</span></div><div><span style="font-size: 11pt;">        c. /usr/local：本地自定义软件</span></div><div><span style="font-size: 11pt;">     2. /etc：</span><span style="font-size: 11pt;">配置文件</span></div><div><span style="font-size: 11pt;">     3. /var：可变数据，重启后也永久保存，</span><span style="font-size: 11pt;">包含动态变化的文件（如数据库、缓存目录、日志文件等）。</span></div><div><span style="font-size: 11pt;">     4. /run：自系统启动以来启动的进程的运行时数据，</span><span style="font-size: 11pt;">包括进程ID</span><span style="font-size: 11pt;">文件和锁定文件等。</span></div><div><span style="font-size: 11pt;">              此目录中的内容在重启时重新创建。</span></div><div><span style="font-size: 11pt;">              注意：此目录</span><span style="font-size: 11pt;">合并了早期版本RHEL中的/var/run和/var/lock。</span></div><div><span style="font-size: 11pt;">     5. /home：普通用户存储其个人数据和配置文件的家目录</span></div><div><span style="font-size: 11pt;">     6. /root：超级用户root的家目录</span></div><div><span style="font-size: 11pt;">     7. /tmp：供临时文件使用的全局可写空间。</span></div><div><span style="font-size: 11pt;">    </span><span style="font-size: 11pt;">          </span><span style="font-size: 11pt; font-weight: bold;">10天内未访问、未更</span><span style="font-size: 11pt; font-weight: bold;">改或未修改的文件将自动从该目录中删除。</span></div><div><span style="font-size: 11pt; font-weight: bold;">              另一个临时目录</span><span style="font-weight: bold;">/var/tmp，</span><span style="font-size: 11pt; font-weight: bold;">该目录中的文件如果在30天内未曾访问、更改或修改过，也将被自动删除。</span></div><div><span style="font-size: 11pt;">     8. /boot：系统启动过程所需的文件</span></div><div><span style="font-size: 11pt;">     9. /dev：包含特殊的设备文件，供系统访问硬件。</span></div><div><br/></div><div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">RHEL 7之后，以下目录内容进行合并，为兼容性考虑，仅保留软链接。</span></font></div></li></ul><div><span style="font-size: 11pt;">     目录包括：/bin与/usr/bin、/sbin与/usr/sbin、/lib与/usr/lib、/lib64与/usr/lib64。</span></div></div><div>     <img src="chapter3_files/Image [1].png" type="image/png" data-filename="Image.png" width="497"/></div><div><br/></div><div>     <span style="color: rgb(250, 122, 0); font-weight: bold;">练习 P51：DESCRIBING LINUX FILE SYSTEM </span><span style="color: rgb(250, 122, 0); font-weight: bold;">HIERARCHY CONCEPTS</span></div><div>     </div><div><br/></div><div><span style="font-weight: bold;">第二节：通过名称指定文件</span></div><div><span style="font-weight: bold;">目标：</span></div><div><ul><li><div><span style="font-size: 11pt;">完成本节后，学生应该能：</span></div></li><li><div><span style="font-size: 11pt;">  识别文件的相对路径与绝对路径</span></div></li><li><div><span style="font-size: 11pt;">  确定并改变工作目录</span></div></li><li><div><span style="font-size: 11pt;">  列出目录的内容</span></div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">绝对路径与相对路径：</span></div><div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">文件或目录的路径是其在文件系统中的位置</span></font></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">文件路径会遍历一个或多个子目录，用斜杠（/）分隔，直至目标位置。</span></font></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">目录也称为文件夹，包含其他文件和子目录。</span></font></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">绝对路径：文件在文件系统中的确切位置，它从根目录（/）开始，遍历到每个子目录，</span></font>如/var/log/messages。</div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">相对路径：从当前工作目录到达该文件所需的路径，路径不以 / 开头。</span></font></div></li><li><div><span style="font-size: 11pt; font-weight: bold;">Linux中的文件系统，严格区分大小写，即</span><span style="font-size: 11pt; font-weight: bold;">FileCase.txt和filecase.txt是两个不同文件。</span></div></li><li><div><span style="font-size: 11pt;">非Linux文件系统，如VFAT、NTFS和macOS的HFS+不区分大小写，即名称相同但大小写不同</span></div></li></ul><div><span style="font-size: 11pt;">     的文件名依然指向同一文件。</span></div><div><br/></div></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">路径导航：</span></span></div><div><ul><li><div><span style="font-size: 14.6667px;">家目录可以用 ~ 表示。</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">$ pwd：显示当前工作目录的绝对路径</span></font></div></li><li><div><span style="font-size: 11pt;">$ cd：可更改工作目录。如果没有指定任何参数，它将切换到家目录。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [2].png" type="image/png" data-filename="Image.png" width="500"/></span></div></div><div><br/></div><div><span style="font-size: 14.6667px;">     $ cd -：回到之前一个目录</span></div><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [3].png" type="image/png" data-filename="Image.png" width="497"/></span></div><div><br/></div><div><span style="font-size: 14.6667px;">     $ cd ..：进入父目录（.表示当前目录，用以省略当前目录的绝对路径）</span></div><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [4].png" type="image/png" data-filename="Image.png" width="498"/></span></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">$ ls：列出指定目录的目录内容；如果未指定目录，则列出当前工作目录的内容。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [5].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [6].png" type="image/png" data-filename="Image.png" width="498"/></span></div><div><span style="font-size: 11pt;">     1. ls命令具有多个选项，用于显示文件的属性。</span></div><div><span style="font-size: 11pt;">     2. </span><span style="font-size: 11pt; font-weight: bold;">-l选项（长列出格</span><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">式）、-a选项（显示隐藏文件）、-R选项（递归方式，包含所有子目录的内容）。</span></span></div><div><span style="font-size: 11pt;">     3. 开头为句点（.）的文件名表示隐藏文件。</span></div><div><span style="font-size: 11pt;">     4. 要防止文件内容被</span><span style="font-size: 11pt;">不当查看，需要使用文件权限。</span></div><div><br/></div><div><ul><li><div><span style="font-size: 14.6667px;">$ touch：更新文件的时间戳，也可用于创建空文件。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [7].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><br/></div><div>     <span style="color: rgb(250, 122, 0); font-weight: bold;">练习 P60：SPECIFYING FILES BY NAME</span>     </div><div><br/></div><div><br/></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">第三节：使用命令行工具管理文件</span></span></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">目标：</span></span></div><div><ul><li><div><span style="font-size: 14.6667px;">完成本节后，学生应该能创建、拷贝、移动并且删除文件或目录。</span></div></li></ul><div><br/></div></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">命令行文件管理：</span></span></div><div><ul><li><div><span style="font-size: 11pt;">常见文件管理命令：</span></div></li></ul><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [8].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><br/></div><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">创建目录：</span></font></div><div><ul><li><div><span style="font-size: 11pt;">mkdir命令可创建一个或多个目录或子目录</span></div></li><li><div><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">$ mkdir -p &lt;</span><span style="font-size: 11pt; font-style: italic; font-weight: bold;">dir1</span><span style="font-size: 11pt; font-weight: bold;">&gt;/&lt;</span><span style="font-size: 11pt; font-style: italic; font-weight: bold;">dir2</span><span style="font-size: 11pt; font-weight: bold;">&gt;</span>：可以创建目录树（创建父目录），但是需要小心拼写错误。</span></div></li></ul><div><span style="font-size: 11pt;">     $ mkdir &lt;</span><span style="font-size: 11pt; font-style: italic;">dir1&gt;</span><span style="font-size: 11pt;"> &lt;</span><span style="font-size: 11pt; font-style: italic;">dir2&gt;：</span><span style="font-size: 11pt;">可以创建多个目录</span><span style="font-size: 11pt;">     </span></div></div><div>     <img src="chapter3_files/Image [9].png" type="image/png" data-filename="Image.png" width="500"/></div><div><br/></div><div><span style="font-weight: bold;">复制文件：</span></div><div><ul><li><div><span style="font-size: 11pt;">cp命令可复制文件，在当前目录或指定目录中创建新文件。</span></div></li><li><div><span style="font-size: 11pt;">它也可将多个文件复制到某一目录中</span></div></li><li><div><span style="font-size: 11pt;">注意：如果目标文件已存在，则cp命令会覆盖该文件。</span></div></li></ul><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [10].png" type="image/png" data-filename="Image.png" width="498"/></span></div></div><div><br/></div><div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">在通过一个命令复制多个文件时，最后一个参数必须为目录。</span></font></div></li><li><div><span style="font-size: 11pt;">默认情况下，cp不复制目录，而会忽略它们。</span></div></li><li><div><span style="font-size: 14.6667px;">如果复制目录或子目录，需使用-r选项。</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [11].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div>     <img src="chapter3_files/Image [12].png" type="image/png" data-filename="Image.png" width="502"/></div><div>     <img src="chapter3_files/Image [13].png" type="image/png" data-filename="Image.png" width="502"/></div><div><br/></div><div><span style="font-weight: bold;">移动文件：</span></div><div><ul><li><div><span style="font-size: 11pt;">mv命令可将文件从一个位置移动到另一个位置</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">如果位置相同，这实际上是重命名。</span></font></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [14].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [15].png" type="image/png" data-filename="Image.png" width="498"/></span></div><div><br/></div><div><span style="font-weight: bold;">删除文件或目录：</span></div><div><ul><li><div><span style="font-size: 11pt;">rm命令删除文件</span></div></li><li><div><span style="font-size: 11pt;">$ rm -r：递归删除（目录）</span></div></li></ul><div><span style="font-size: 11pt;">     $ rm -rf：强制递归删除（目录）</span></div><div><span style="font-size: 11pt;">     $ rmdir：仅删除空目录</span></div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">注意：没有取消删除功能，也没有垃圾箱。</span></font></div></li></ul></div><div>     <img src="chapter3_files/Image [16].png" type="image/png" data-filename="Image.png" width="500"/></div><div><br/></div><div>     <span style="color: rgb(250, 122, 0); font-weight: bold;">练习 P70：MANAGING FILES USING COMMAND-LINE </span><span style="color: rgb(250, 122, 0); font-weight: bold;">TOOLS</span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">第四节：制作文件间的链接</span></div><div><span style="font-weight: bold;">目标：</span></div><div><ul><li><div>完成本节后，学生应该能使用硬链接与符号（软）链接使多个文件名引用同一个文件。</div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">硬链接与软链接：</span></div><div><ul><li><div><span style="font-size: 11pt;">可以创建指向同一文件的多个名称。</span></div></li><li><div><span style="font-size: 11pt;">有两种方法可以做到这一点：硬链接、软链接（有时也称为符号链接）。</span></div></li><li><div><span style="font-size: 11pt;">每种方法都各有利弊。</span></div></li></ul><div><br/></div></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">创建硬链接：</span></span></div><div><ul><li><div><span style="font-size: 11pt;">每个文件都以一个硬链接开始</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt;">新的硬链接与原始文件的一切属性和内容完全相同，同步更新。</span></font></div></li><li><div><span style="font-size: 11pt;">ls -l命令可以显示文件硬链接数量</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [17].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">使用ln命令为现有文件创建新硬链接</span></div></li></ul></div><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [18].png" type="image/png" data-filename="Image.png" width="498"/></span></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">$ ls -il &lt;</span><span style="font-size: 11pt; font-style: italic;">filename</span><span style="font-size: 11pt;">&gt;：查看文件的inode（索引节点编号）</span></div></li><li><div><span style="font-size: 11pt;">如果两个文件具有相同的inode，则表示它们以硬链接连接彼此。</span></div></li></ul></div><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [19].png" type="image/png" data-filename="Image.png" width="498"/></span></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">即使原始文件被删除，只要存在至少一个硬链接，该文件的内容</span><span style="font-size: 11pt;">就依然可用。</span></div></li><li><div><span style="font-size: 11pt;">只有删除了最后一个硬链接时，才会将数据从存储中删除。</span></div></li></ul></div><div><br/></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">硬链接的局限性：</span></span></div><div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">硬链接只能用于常规文件。</span></font></div></li><li><div><span style="font-size: 11pt;">不能使用ln来创建指向目录或特殊文件的硬链接。</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">只有当两个文件都位于同一文件系统上时，才能使用硬链接。</span></font></div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">创建软链接：</span></div><div><ul><li><div><span style="font-size: 11pt;">ln -s命令可创建软链接，也称为“符号链接”。</span></div></li><li><div><span style="font-size: 11pt;">软链接不是常规文件，而是指向现有文件或目录的特殊类型的文件。</span></div></li><li><div><span style="font-size: 11pt;">软链接相比硬链接有一定的优势：</span></div></li></ul><div><span style="font-size: 11pt;">     1. <span style="font-size: 11pt; font-weight: bold;">可以链接位于不同文件系统上的两个文件。</span></span></div></div><div><span style="font-size: 11pt;">     2. <span style="font-size: 11pt; font-weight: bold;">可以指向目录或特殊文件，而不仅限于常规文件。</span></span></div><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [20].png" type="image/png" data-filename="Image.png" width="499"/></span></div><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [21].png" type="image/png" data-filename="Image.png" width="500"/></span></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">当原始文件被删除后，软链接依然会指向该文件。</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">指向缺失的文件的软链接称为“悬挂的软链接”（断链）。</span></font></div></li><li><div><span style="font-size: 11pt;">若重新创建与原始文件同名的文件，软链接将重新创建。</span></div></li></ul></div><div>     <img src="chapter3_files/Image [22].png" type="image/png" data-filename="Image.png" width="500"/></div><div><br/></div><div><span style="font-size: 11pt;"> </span> <span style="font-size: 11pt; color: rgb(0, 0, 255); font-weight: bold;">* 硬链接与软链接比较：</span></div><div><span style="font-size: 11pt;">    <img src="chapter3_files/1.jpg" type="image/jpeg" data-filename="1.jpg" width="328"/></span></div><div><br/></div><div><span style="font-size: 11pt;">     </span><span style="font-size: 11pt; color: rgb(250, 122, 0); font-weight: bold;">练习 P79：<span style="font-size: 11pt; color: rgb(250, 122, 0); font-weight: bold;">MAKING LINKS BETWEEN FILES</span></span></div><div><br/></div><div><span style="font-size: 11pt;"> </span></div><div><span style="font-weight: bold;">第五节：使用Shell扩展匹配文件名</span></div><div><span style="font-weight: bold;">目标：</span></div><div><ul><li><div><span style="font-size: 11pt;">完成本节后，学生应该能使用Bash shell的模式匹配特性高效地运行命令。</span></div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">命令行扩展：</span></div><div><ul><li><div><span style="font-size: 11pt;">Bash有多种扩展命令行的方式，包括模式匹配、主目录扩展、字符串扩展和变量替换等。</span></div></li><li><div><span style="font-size: 11pt; font-weight: bold;">其中最强大的是路径名称匹配功能，在过去被称为</span><span style="font-size: 11pt; font-weight: bold;">“</span><span style="font-size: 11pt; font-weight: bold;">通配</span><span style="font-size: 11pt; font-weight: bold;">”</span><span style="font-size: 11pt; font-weight: bold;">（globbing）。</span></div></li><li><div><span style="font-size: 11pt;">Bash通配功能通常称为</span><span style="font-size: 11pt;">“</span><span style="font-size: 11pt;">通配符</span><span style="font-size: 11pt;">”</span><span style="font-size: 11pt;">。</span></div></li><li><div><span style="font-size: 11pt;">使用元字符（metacharacters）扩展文件与路径名称的匹配功能。</span></div></li><li><div><span style="font-size: 11pt;">常用元字符与匹配：</span></div></li></ul><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [23].png" type="image/png" data-filename="Image.png" width="498"/></span></div></div><div>     <img src="chapter3_files/Image [24].png" type="image/png" data-filename="Image.png" width="499"/></div><div>     <img src="chapter3_files/Image [25].png" type="image/png" data-filename="Image.png" width="500"/></div><div><br/></div><div><span style="font-weight: bold;">波浪符（</span><span style="font-weight: bold;">tilde</span><span style="font-weight: bold;">）扩展：</span></div><div><ul><li><div><span style="font-size: 11pt;">波浪符（~）匹配当前用户的家目录</span></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [26].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><br/></div><div><span style="font-weight: bold;">大括号（</span><span style="font-weight: bold;">brace</span><span style="font-weight: bold;">）扩展：</span></div><div><ul><li><div><span style="font-size: 11pt;">大括号扩展用于生成任意字符串，快速创建文件或目录。</span></div></li><li><div><span style="font-size: 11pt;">大括号扩展可以互相嵌套</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">双句点语法（..）可扩展成一个序列，使得 {m..p} 扩展为 m n o p。</span></font></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [27].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><br/></div><div><span style="font-weight: bold;">变量扩展：</span></div><div><ul><li><div><span style="font-size: 11pt;">通过变量，可以从命令行或在shell脚本内轻松访问和修改存储的数据。</span></div></li></ul><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [28].png" type="image/png" data-filename="Image.png" width="497"/> </span></div></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">为了避免因其它shell扩展而引起的错误，可以将变量的名称放在大括号中，</span></div></li></ul><div><span style="font-size: 11pt;">     如</span><span style="font-size: 11pt; font-weight: bold;">${VARIABLENAME}</span><span style="font-size: 11pt;">。</span></div><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [29].png" type="image/png" data-filename="Image.png" width="498"/> </span></div></div><div><br/></div><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">命令替换（</span><span style="font-size: 14.6667px; font-weight: bold;">substitution</span><span style="font-size: 14.6667px; font-weight: bold;">）：</span></span></div><div><ul><li><div><span style="font-weight: bold;">$(</span><span style="font-style: italic; font-weight: bold;">command</span><span style="font-weight: bold;">)</span>：命令替换</div></li></ul><div>     <img src="chapter3_files/Image [30].png" type="image/png" data-filename="Image.png" width="499"/></div></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt; font-weight: bold;">`</span><span style="font-size: 11pt; font-style: italic; font-weight: bold;">command</span><span style="font-size: 11pt; font-weight: bold;">`</span><span style="font-size: 11pt;">：也表示命令替换，不推荐使用。</span></div></li><li><div><span style="font-size: 11pt;">命令替换中使用反引号（`）的缺点：</span></div></li></ul><div><span style="font-size: 11pt;">     1. </span><span style="font-size: 11pt; font-weight: bold;">反引号很容易与单引号混用</span></div></div><div><span style="font-size: 11pt;">     2. 反引号不能用于嵌套</span></div><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [31].png" type="image/png" data-filename="Image.png" width="497"/></span></div><div><span style="font-size: 11pt;">      </span></div><div><span style="font-weight: bold;">防止参数被扩展：</span></div><div><ul><li><div><span style="font-size: 11pt;">在Bash shell中，许多字符有特殊含义。</span></div></li><li><div><span style="font-size: 11pt;">为了防止shell在命令行的某些部分上执行shell扩展，可以为字符和字符串加引号或执行转义。</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">反斜杠（backslash，\）是Bash shell中的转义字符。</span></font></div></li><li><div><span style="font-size: 11pt;">它可以防止紧随其后的字符被扩展。</span></div></li></ul></div><div>     <img src="chapter3_files/Image [32].png" type="image/png" data-filename="Image.png" width="499"/></div><div><br/></div><div><ul><li><div><span style="font-size: 11pt;">如果要保护较长的字符串，则使用单引号（'）或双引号（&quot;）来括起字符串。</span></div></li><li><div><span style="font-size: 11pt;">单引号将阻止所有shell扩展。</span></div></li><li><div><span style="font-size: 11pt;">双引号则阻止大部分shell扩展。</span></div></li><li><div><span style="font-size: 11pt;">双引号可以阻止通配和shell扩展，但依然允许命令和变量替换。</span></div></li></ul><div><span style="font-size: 11pt;">     <img src="chapter3_files/Image [33].png" type="image/png" data-filename="Image.png" width="499"/></span></div></div><div><br/></div><div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">单引号则可以按字面解译所有的文本。</span></font></div></li></ul><div><span style="font-size: 14.6667px;">     <img src="chapter3_files/Image [34].png" type="image/png" data-filename="Image.png" width="497"/></span></div></div><div><br/></div><div>     <span style="color: rgb(250, 122, 0); font-weight: bold;">练习 P86：MATCHING FILE NAMES WITH SHELL </span><span style="color: rgb(250, 122, 0); font-weight: bold;">EXPANSIONS</span></div><div><span style="color: rgb(250, 122, 0); font-weight: bold;">     Lab P90：MANAGING FILES FROM THE COMMAND LINE</span></div><div><br/></div><div><br/></div></span>
</div></body></html> 